<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>è·³è·³Tempoé‚è¼¯éŠæˆ²</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap');
    
    body {
      background: linear-gradient(to bottom right, #ffe0f0, #e0f7fa);
      font-family: 'Noto Sans TC', sans-serif;
      text-align: center;
      padding: 30px;
      color: #444;
    }

    h1 {
      color: #ff80ab;
      font-size: 40px;
      margin-bottom: 20px;
      text-shadow: 1px 1px 2px #fff;
    }

    #question {
      font-size: 28px;
      margin: 40px auto 10px;
      max-width: 80%;
      background: #ffffffcc;
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    #timer {
      font-size: 20px;
      margin-bottom: 20px;
      color: #ffb74d;
    }

    #choices {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 30px;
      gap: 100px;
    }

    .icon {
      font-size: 48px;
      background: #fff;
      padding: 20px;
      border-radius: 50%;
      box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
      transition: transform 0.2s;
    }

    .icon:hover {
      transform: scale(1.1);
      cursor: pointer;
    }

    #score {
      font-size: 22px;
      color: #66bb6a;
      background: #e8f5e9;
      display: inline-block;
      padding: 10px 20px;
      border-radius: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    #result {
      font-size: 22px;
      color: #ff7043;
      margin-top: 20px;
      min-height: 30px;
    }

    #end-screen {
      display: none;
      margin-top: 50px;
    }

    #end-screen h2 {
      font-size: 32px;
      color: #ff80ab;
      margin-bottom: 20px;
    }

    #retry {
      font-size: 20px;
      padding: 10px 20px;
      border: none;
      border-radius: 20px;
      background-color: #ffb74d;
      color: white;
      cursor: pointer;
    }

    #retry:hover {
      background-color: #ffa726;
    }
  </style>
</head>
<body>
  <h1>ğŸ® è·³è·³Tempo é‚è¼¯éŠæˆ²</h1>
  <div id="score">ç›®å‰å¾—åˆ†ï¼š0</div>
  <div id="question">æŒ‰å·¦å³æ–¹å‘éµä¾†é–‹å§‹éŠæˆ²ï¼</div>
  <div id="timer"></div>
  <div id="choices">
    <div class="icon">â­• å·¦éµï¼ˆå°ï¼‰</div>
    <div class="icon">âŒ å³éµï¼ˆéŒ¯ï¼‰</div>
  </div>
  <div id="result"></div>
  <div id="end-screen">
    <h2>ğŸ‰ æ­å–œé€šé—œï¼</h2>
    <p id="final-score"></p>
    <button id="retry">å†æŒ‘æˆ°ä¸€æ¬¡ï¼</button>
  </div>

  <audio id="correct-sound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_d9b5b08d8d.mp3"></audio>
  <audio id="wrong-sound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_2283e3b117.mp3"></audio>

  <script>
    const questions = [
      { text: 'ä¸€é€±æœ‰ä¸ƒå¤©ï¼Œæ˜ŸæœŸå¤©æ˜¯æœ€å¾Œä¸€å¤©ã€‚', answer: true },
      { text: 'æ‰€æœ‰çš„å¶æ•¸éƒ½å¯ä»¥è¢«3æ•´é™¤ã€‚', answer: false },
      { text: 'å¤ªé™½æ˜¯å¾æ±é‚Šå‡èµ·çš„ã€‚', answer: true },
      { text: 'å†°æ¯”æ°´é‚„ç†±ã€‚', answer: false },
      { text: 'é¯Šé­šæ˜¯å“ºä¹³é¡ã€‚', answer: false },
      { text: 'äººæœ‰äº”æ ¹æ‰‹æŒ‡é ­ã€‚', answer: true },
      { text: 'æœˆäº®æœƒç™¼å…‰ã€‚', answer: false },
      { text: '0 æ˜¯æ­£æ•¸ã€‚', answer: false },
      { text: 'ç´…ç‡ˆåœã€ç¶ ç‡ˆè¡Œã€‚', answer: true },
      { text: 'é›»é¢¨æ‰‡å¯ä»¥ç•¶å†·æ°£ç”¨ã€‚', answer: false },
      { text: 'ä»Šå¤©æ²’å¸¶å‚˜ â†’ ä¸‹é›¨äº†ï¼Ÿ', answer: false },
      { text: 'æœƒå« â†’ æ˜¯ç‹—ï¼Ÿ', answer: false },
      { text: 'æˆ‘æƒ³å‹• â†’ æ²’åƒå¤ªé£½ï¼Ÿ', answer: true },
      { text: 'å°å¼·ä¸åœ¨ â†’ å°ç¾åœ¨ï¼Ÿ', answer: false },
      { text: 'ä½ è«‹æˆ‘åƒé£¯ â†’ æˆ‘è€ƒæ»¿åˆ†ï¼Ÿ', answer: false },
      { text: 'é£›æ©Ÿæœƒé£› â†’ æ˜¯é³¥ï¼Ÿ', answer: false },
      { text: 'å“¥å“¥çš„å“¥å“¥æ˜¯æˆ‘å¼Ÿå¼Ÿã€‚', answer: false },
      { text: 'å°æ˜ä¸æ˜¯å­¸ç”Ÿ â†’ ä¸ä¸Šèª²ï¼Ÿ', answer: false },
      { text: 'æˆ‘å¾æ²’èªªè¬Šï¼Œé€™å¥è©±æˆ‘ä¹Ÿæ²’èªªéã€‚', answer: false },
      { text: 'ç¾åœ¨æ˜¯æ˜å¤©çš„æ˜¨å¤©ã€‚', answer: true },
      { text: 'ä¸æ˜¯æ‰€æœ‰äººå–œæ­¡é¦™èœ â†’ æœ‰äººä¸å–œæ­¡ã€‚', answer: true },
      { text: 'æ˜å¤©æˆ‘æœƒè´é™¤éæˆ‘è¼¸ã€‚', answer: true },
      { text: 'å°ç‹çš„åª½åª½æœ‰ä¸‰å€‹å°å­©ï¼šå°ä¸€ã€å°äºŒï¼Œç¬¬ä¸‰å€‹æ˜¯ï¼Ÿ', answer: true }
    ];

    let score = 0;
    let askedIndices = new Set();
    let currentIndex = -1;
    let timer;
    let timeLeft = 7;

    const questionEl = document.getElementById("question");
    const scoreEl = document.getElementById("score");
    const resultEl = document.getElementById("result");
    const timerEl = document.getElementById("timer");
    const correctSound = document.getElementById("correct-sound");
    const wrongSound = document.getElementById("wrong-sound");
    const endScreen = document.getElementById("end-screen");
    const finalScoreEl = document.getElementById("final-score");
    const retryBtn = document.getElementById("retry");

    function startTimer() {
      timeLeft = 7;
      timerEl.textContent = `â³ å€’æ•¸ï¼š${timeLeft} ç§’`;
      timer = setInterval(() => {
        timeLeft--;
        timerEl.textContent = `â³ å€’æ•¸ï¼š${timeLeft} ç§’`;
        if (timeLeft <= 0) {
          clearInterval(timer);
          resultEl.textContent = "â° è¶…æ™‚æœªç­”ï¼-1åˆ†";
          wrongSound.play();
          score -= 1;
          scoreEl.textContent = `ç›®å‰å¾—åˆ†ï¼š${score}`;
          setTimeout(nextQuestion, 1000);
        }
      }, 1000);
    }

    function nextQuestion() {
      clearInterval(timer);
      if (askedIndices.size === questions.length) {
        endGame();
        return;
      }

      do {
        currentIndex = Math.floor(Math.random() * questions.length);
      } while (askedIndices.has(currentIndex));

      askedIndices.add(currentIndex);
      questionEl.textContent = questions[currentIndex].text;
      resultEl.textContent = "";
      startTimer();
    }

    function checkAnswer(userAnswer) {
      clearInterval(timer);
      const correct = questions[currentIndex].answer;
      if (userAnswer === correct) {
        score += 3;
        resultEl.textContent = "âœ… ç­”å°äº†ï¼+3åˆ†";
        correctSound.play();
      } else {
        score -= 1;
        resultEl.textContent = "âŒ ç­”éŒ¯äº†ï¼-1åˆ†";
        wrongSound.play();
      }
      scoreEl.textContent = `ç›®å‰å¾—åˆ†ï¼š${score}`;
      setTimeout(nextQuestion, 1000);
    }

    function endGame() {
      questionEl.style.display = 'none';
      timerEl.style.display = 'none';
      document.getElementById("choices").style.display = 'none';
      resultEl.style.display = 'none';
      scoreEl.style.display = 'none';
      endScreen.style.display = 'block';
      finalScoreEl.textContent = `ä½ çš„ç¸½åˆ†æ˜¯ï¼š${score} åˆ†ï¼`;
    }

    retryBtn.addEventListener("click", () => {
      score = 0;
      askedIndices.clear();
      questionEl.style.display = 'block';
      timerEl.style.display = 'block';
      document.getElementById("choices").style.display = 'flex';
      resultEl.style.display = 'block';
      scoreEl.style.display = 'inline-block';
      endScreen.style.display = 'none';
      scoreEl.textContent = `ç›®å‰å¾—åˆ†ï¼š${score}`;
      nextQuestion();
    });

    document.addEventListener("keydown", function (e) {
      if (e.key === "ArrowLeft") {
        checkAnswer(true);
      } else if (e.key === "ArrowRight") {
        checkAnswer(false);
      }
    });

    nextQuestion();
  </script>
</body>
</html>
